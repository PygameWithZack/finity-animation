<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="/po-up.css">
    <title>Characters</title>
</head>
<body>
    <div class="top">
        <form  class="search-form">
            <input type="text" placeholder="Search character" id="search-char">
            <button type="submit" class="btn"><i class='bx bx-search-alt'></i></button>
        </form>
    </div>
    
    <div class="characters-s">

    </div>
    
    
    <h2 class="title-a"><i class='bx bx-trending-up'></i>Popular characters</h2>
    <div class="characters">



    
</div>


    <script>
        function Characters(){
  
  // Fetch recommended anime from Jikan API
  fetch('https://api.jikan.moe/v4/characters')
  .then(response => response.json())
  .then(data => {
    data.data.forEach(anime => {
        const animeCard = document.createElement('a');
      animeCard.classList.add('char');
      animeCard.href = anime.url;
      animeCard.innerHTML = `
      
        <img src="${anime.images.jpg.image_url}" alt="">
        <p class="name">${anime.name}</p>
        <p class="fav"><i class='bx bx-heart'></i> ${anime.favorites}</p>
      
        `;
      document.querySelector('.characters').appendChild(animeCard);

    });

  })
  .catch(error => console.error(error));
  
  
  }  

  function getCharacter(anime){
// Fetch recommended anime from Jikan API
fetch('https://api.jikan.moe/v4/characters?q='+anime)
  .then(response => response.json())
  .then(data => {
    document.querySelector('.characters-s').innerHTML = '';
    // Log the API response to the console
    console.log(data);

    // Loop through the anime data and create a card for each anime
    data.data.forEach(character => {
      const characterCard = document.createElement('a');
      characterCard.classList.add('char');
      characterCard.href = character.url;
      characterCard.innerHTML = `
        <img src="${character.images.jpg.image_url}" alt="">
        <p class="name">${character.name}</p>
        <p class="fav"><i class='bx bx-heart'></i> ${character.favorites}</p>
      `;
      document.querySelector('.characters-s').appendChild(characterCard);
    });
  })
  .catch(error => console.error(error));
  }

  Characters();


const Form = document.querySelector('.search-form')

Form.addEventListener('submit'  , e =>{
    e.preventDefault()

    Char = document.querySelector('#search-char').value;

    getCharacter(Char)
})





</script>
</body>
</html>